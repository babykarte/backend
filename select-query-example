SELECT to_json(tags), osm_id, 'Node' AS osm_type, St_asgeojson(St_centroid(geom)) ::json AS geometry FROM osm_poi_point WHERE tags->'amenity'='kindergarten' OR tags->'amenity'='childcare' AND st_dwithin(geom, ST_Polygon(ST_GeomFromText('LINESTRING(54.3169738285594 10.12046813964844,54.3169738285594 10.15939235687256,54.329212922944876 10.15939235687256, 54.329212922944876 10.12046813964844,54.3169738285594 10.12046813964844)'), 4326), 0) UNION ALL SELECT to_json(tags), osm_id, 'Way' AS osm_type, st_asgeojson(St_centroid(geom)) ::json AS geometry FROM osm_poi_poly WHERE tags->'amenity'='kindergarten' OR tags->'amenity'='childcare' and st_dwithin(geom, ST_Polygon(ST_GeomFromText('LINESTRING(54.3169738285594 10.12046813964844,54.3169738285594 10.15939235687256,54.329212922944876 10.15939235687256, 54.329212922944876 10.12046813964844,54.3169738285594 10.12046813964844)'), 4326), 0);
